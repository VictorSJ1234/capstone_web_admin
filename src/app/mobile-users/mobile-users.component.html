<app-header></app-header>
<app-navbar></app-navbar>
<app-sidenav></app-sidenav>

<body>
    <section class="label_section">
        <div class="label_container">
            <h1>Accounts Management > Mobile Users</h1>
        </div>
    </section>
    <section class="report_list_section">
        <div class="report_list_container">
            <h2 class="report_list_header">Mobile Users List</h2>
            <table class="report_table">
            <tbody>
                <tr *ngIf="userData.length === 0">
                    <td colspan="3" class="no-reports-cell">
                        No reports yet
                    </td>
                </tr>
                <tr *ngFor="let user of userData">
                    <td><img [src]="convertToImage(user.profilePicture)" alt="Report Image" class="user_image"></td>
                    <td class="name"><p>{{ user.name }}</p></td>
                    <td><button (click)="viewReports(user)" id="view_button"><img src="../../assets/button_icons/reports_icon.png" alt="View">&nbsp;Reports</button></td>
                    <td><button (click)="editReport(user)" id="edit_button"><img src="../../assets/button_icons/edit_icon.png" alt="Edit">&nbsp;Edit</button></td>
                    <td><button (click)="openCarouselModal(user)" id="delete_button"><img src="../../assets/button_icons/delete_icon.png" alt="Delete">&nbsp;Delete</button></td>
                </tr>
            </tbody>
            </table>
        </div>
    </section> 

    <!-- Modal -->
    <div id="response_modal" class="modal" [ngStyle]="{ display: carouselModalOpen ? 'block' : 'none' }">
        <div class="modal-content">
          <div class="modal-header" id="modal_header">
            <span class="close" id="close_carousel" (click)="closeCarouselModal()">&times;</span>
            <h2>Are you sure?</h2>
          </div>
          
          <div class="modal-body">
            <p>Confirm to delete user:</p>
            <p>{{ selectedUserName }}</p>
            <div class="redirect-button-container">
                <button class="cancel-button" (click)="closeCarouselModal()">Cancel</button> <!-- Close modal on cancel -->
                <button class="confirm-button" (click)="confirmDelete()">Confirm</button> <!-- Perform delete on confirm -->
            </div>
          </div>
        </div>
      </div>   
<body>